<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aventura en el Reino de JS</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Fondo decorativo -->
    <div class="background-overlay"></div>

    <!-- Escena 1: Inicio -->
    <div id="escena-inicio" class="escena activa">
        <div class="scene-container">
            <div class="scene-header">
                <h1>AVENTURA EN EL REINO DE JS</h1>
                <div class="subtitle">La Batalla por el Trono</div>
            </div>

            <div class="scene-content">
                <div class="tarjeta-jugador">
                    <div class="avatar-container">
                        <img id="avatar-jugador" src="assets/images/player.png" alt="Avatar del Jugador" />
                    </div>
                    <h2 id="nombre-jugador">Cazador</h2>
                    <div class="estadisticas">
                        <div class="stat">
                            <span class="stat-label">Ataque:</span>
                            <span id="ataque-jugador" class="stat-value">0</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Defensa:</span>
                            <span id="defensa-jugador" class="stat-value">0</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Vida:</span>
                            <span id="vida-jugador" class="stat-value">100</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Puntos:</span>
                            <span id="puntos-jugador" class="stat-value">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="scene-footer">
                <button id="btn-continuar-inicio" class="btn btn-primary">
                    <i></i>Comenzar Aventura
                </button>
            </div>
        </div>
    </div>

    <!-- Escena 2: Mercado -->
    <div id="escena-mercado" class="escena">
        <div class="scene-container">
            <div class="scene-header">
                <h2>MERCADO NEGRO</h2>
                <div class="subtitle">Equípate para la batalla</div>
            </div>

            <div class="scene-content mercado-content">
                <div class="market-grid">
                    <div class="productos-section">
                        <h3>Productos Disponibles</h3>
                        <div id="lista-productos" class="lista-productos">
                            <!-- Los productos se cargan dinámicamente aquí -->
                        </div>
                    </div>

                    <div class="cesta-section">
                        <div class="inventario-header">
                            <h3>Inventario</h3>
                            <div class="inventario-count">
                                Objetos: <span id="total-objetos">0</span>
                            </div>
                        </div>
                        <div id="cesta-compra" class="cesta-compra">
                            <div class="cesta-vacia">
                                <p>Tu inventario está vacío</p>
                            </div>
                        </div>
                        <div class="stats-summary">
                            <div class="stat-summary">
                                <span>Ataque total:</span>
                                <strong id="ataque-total">0</strong>
                            </div>
                            <div class="stat-summary">
                                <span>Defensa total:</span>
                                <strong id="defensa-total">0</strong>
                            </div>
                            <div class="stat-summary">
                                <span>Vida extra:</span>
                                <strong id="vida-extra">0</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="scene-footer">
                <button id="btn-continuar-mercado" class="btn btn-primary">Continuar a la Batalla</button>
            </div>
        </div>
    </div>

    <!-- Escena 3: Estado Actualizado -->
    <div id="escena-estado" class="escena">
        <div class="scene-container">
            <div class="scene-header">
                <h2>ESTADO ACTUALIZADO</h2>
                <div class="subtitle">Tu poder ha crecido</div>
            </div>

            <div class="scene-content">
                <div class="tarjeta-jugador actualizada">
                    <div class="avatar-container">
                        <img id="avatar-jugador-estado" src="assets/images/player.png" alt="Avatar del Jugador" />
                    </div>
                    <h2 id="nombre-jugador-estado">Cazador</h2>
                    <div class="estadisticas">
                        <div class="stat">
                            <span class="stat-label">Ataque:</span>
                            <span id="ataque-jugador-estado" class="stat-value">0</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Defensa:</span>
                            <span id="defensa-jugador-estado" class="stat-value">0</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Vida:</span>
                            <span id="vida-jugador-estado" class="stat-value">100</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Puntos:</span>
                            <span id="puntos-jugador-estado" class="stat-value">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="scene-footer">
                <button id="btn-continuar-estado" class="btn btn-primary">Ver Enemigos</button>
            </div>
        </div>
    </div>

    <!-- Escena 4: Enemigos -->
    <div id="escena-enemigos" class="escena">
        <div class="scene-container">
            <div class="scene-header">
                <h2>ENEMIGOS DEL REINO</h2>
                <div class="subtitle">Elige tu destino</div>
            </div>

            <div class="scene-content">
                <div id="lista-enemigos" class="lista-enemigos">
                    <!-- Los enemigos se cargan dinámicamente aquí -->
                </div>
            </div>

            <div class="scene-footer">
                <button id="btn-continuar-enemigos" class="btn btn-danger">Iniciar Batallas</button>
            </div>
        </div>
    </div>

    <!-- Escena 5: Batallas -->
    <div id="escena-batallas" class="escena">
        <div class="scene-container">
            <div class="scene-header">
                <h2>CAMPO DE BATALLA</h2>
                <div class="subtitle">La lucha por la supervivencia</div>
            </div>

            <div class="scene-content battle-content">
                <div class="battle-info">
                    <div class="combatientes">
                        <div class="combatiente jugador-combatiente">
                            <div class="combatiente-header">
                                <img id="avatar-batalla-jugador" src="assets/images/player.png" alt="Jugador" />
                                <h3 id="nombre-batalla-jugador">Cazador</h3>
                            </div>
                            <div class="vida-container">
                                <div class="vida-label">Vida</div>
                                <div class="vida-bar">
                                    <div class="vida-fill" id="vida-bar-jugador"></div>
                                </div>
                                <span id="vida-texto-jugador" class="vida-texto">100/100</span>
                            </div>
                        </div>

                        <div class="vs-container">
                            <div class="vs">VS</div>
                        </div>

                        <div class="combatiente enemigo-combatiente">
                            <div class="combatiente-header">
                                <img id="avatar-batalla-enemigo" src="" alt="Enemigo" />
                                <h3 id="nombre-batalla-enemigo">Enemigo</h3>
                            </div>
                            <div class="vida-container">
                                <div class="vida-label">Vida</div>
                                <div class="vida-bar">
                                    <div class="vida-fill" id="vida-bar-enemigo"></div>
                                </div>
                                <span id="vida-texto-enemigo" class="vida-texto">0/0</span>
                            </div>
                        </div>
                    </div>

                    <div id="resultado-batalla" class="resultado-batalla">
                        <!-- Aquí se mostrará el resultado de la batalla -->
                    </div>
                </div>
            </div>

            <div class="scene-footer battle-buttons">
                <button id="btn-continuar-batallas" class="btn btn-primary" style="display: none">Continuar</button>
                <button id="btn-siguiente-batalla" class="btn btn-secondary" style="display: none">Siguiente
                    Batalla</button>
            </div>
        </div>
    </div>

    <!-- Escena 6: Final -->
    <div id="escena-final" class="escena">
        <div class="scene-container">
            <div class="scene-header">
                <h2>AVENTURA COMPLETADA</h2>
                <div class="subtitle">Tu leyenda ha sido escrita</div>
            </div>

            <div class="scene-content final-content">
                <div class="resultado-final">
                    <div class="puntuacion-final">
                        <h3>Puntuación Final</h3>
                        <div class="puntuacion-grande" id="puntos-final">0</div>
                    </div>
                    <div class="rango-final">
                        <h3>Tu Rango</h3>
                        <div class="rango" id="rango-final">Novato</div>
                    </div>
                </div>

                <div class="resumen-batallas">
                    <h3>Resumen de Batallas</h3>
                    <div id="resumen-combates" class="resumen-combates">
                        <!-- Resumen de combates -->
                    </div>
                </div>
            </div>

            <div class="scene-footer">
                <button id="btn-reiniciar" class="btn btn-primary">Jugar de Nuevo</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <script type="module" src="./js/main.js"></script>
</body>

</html>
